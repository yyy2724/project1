<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/kurlylayout}"
>


<th:block layout:fragment="title">
    <title>장바구니</title>
</th:block>

<th:block layout:fragment="css">
    <link rel="stylesheet" th:href="@{https://use.fontawesome.com/releases/v5.6.3/css/all.css}"
          integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/css/cart/cart.css}">
</th:block>

<th:block layout:fragment="script">
    <script type="text/javascript" th:src="@{/js/cart/cart.js}"></script>
</th:block>

<th:block layout:fragment="container">
    <div class="container">
        <div class="container-con">
            <div class="cart">
                <div class="cart-con">
                    <div class="cart-header">
                        <div class="headName">
                            <h1>장바구니</h1>
                        </div>
                    </div>

                    <div class="cart-con-container">
                        <form name="orderform" id="orderform" method="post" class="orderform" th:action="@{/Page}"
                              onsubmit="return false;">

                            <input type="hidden" name="cmd" value="order">
                            <div class="basketdiv" id="basket">
                                <div class="row head">
                                    <div class="subdiv">
                                        <!--                                        <div class="check">선택</div>-->
                                        <div class="img">이미지</div>
                                        <div class="pname">상품명</div>
                                    </div>
                                    <div class="subdiv">
                                        <div class="basketprice">가격</div>
                                        <div class="num">수량</div>
                                        <div class="sum">합계</div>
                                    </div>
                                    <div class="subdiv">
                                        <div class="basketcmd">삭제</div>
                                    </div>
                                    <div class="subdiv">
                                        <div class="basketcmd">주문</div>
                                    </div>
                                    <div class="split"></div>

                                </div>

                                <!-- 나중에 꼭 li에 th:foreach써서 활용하기  -->
                                <ul>
                                    <li th:each="cart:${carts}">
                                        <div class="row data">
                                            <div class="subdiv">
                                                <!--                                        <div class="check"><input type="checkbox" name="buy" value="260" checked="" th:onclick="|javascript:basket.checkItem();|">&nbsp;</div>-->
                                                <div class="img"><img src="./img/cart.jpg" width="60"></div>
                                                <div class="pname">
                                                    <span th:text="${cart.name}"></span>
                                                </div>
                                            </div>
                                            <div class="subdiv">
                                                <div class="basketprice"><span th:text="${cart.price} + ' 원'"></span>
                                                </div>
                                                <div class="num">
                                                    <div class="updown">
                                                        <span th:text="${cart.count}"></span>
                                                    </div>
                                                </div>
                                                <div class="basketprice">
                                                    <span th:text="${cart.totalPrice} + ' 원' "></span>
                                                </div>

                                            </div>
                                            <div class="subdiv">
                                                <input type="hidden" id="item_id" th:value="${cart.itemId}"/>
                                                <input type="hidden" id="count" th:value="${cart.count}"/>
                                                <div class="basketcmd">
                                                    <a class="abutton" th:onclick="'deleteItem(\'' + ${cart.itemId} + '\')'">삭제</a>
                                                </div>
                                            </div>
                                            <div class="subdiv">
                                                <div class="basketcmd">
                                                    <a class="abutton" th:onclick="'orderItem(\'' + ${cart.itemId} + '\', \'' + ${cart.count} + '\')'">주문</a>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>


                            <div id="goorder" class="">
                                <div class="clear"></div>
                                <div class="buttongroup center-align cmd">
                                    <a href="javascript:void(0);">선택한 상품 결제</a>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
</th:block>
</html>